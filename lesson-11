CREATE TABLE logs  (
  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
  table_name VARCHAR(255),
  pr_key INT UNSIGNED NOT NULL,
  name VARCHAR(100) NOT NULL
) ENGINE=Archive;

DELIMITER //
CREATE TRIGGER log_users_insert BEFORE INSERT ON users
FOR EACH ROW
BEGIN
  INSERT 
    INTO logs
    (table_name,pr_key, name)
  VALUES
    ("users", NEW.id, NEW.name);
END//

CREATE TRIGGER log_catalogs_insert BEFORE INSERT ON catalogs
FOR EACH ROW
BEGIN
  INSERT 
    INTO logs
    (table_name,pr_key, name)
  VALUES
    ("catalogs", NEW.id, NEW.name);
END//

CREATE TRIGGER log_products_insert BEFORE INSERT ON products
FOR EACH ROW
BEGIN
  INSERT 
    INTO logs
    (table_name,pr_key, name)
  VALUES
    ("products", NEW.id, NEW.name);
END//
